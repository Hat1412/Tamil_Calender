<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<style>
    body {
        background: radial-gradient(#550055, #000);
        border: white;
        border-style: solid;
    }

    h1 {
        width: 100%;
        font-size: 180px;
        background: #000000;
        text-align: center;
        color: aliceblue;
        font-family: 'Arial';
    }

    #count-down {
        font-size: 170px;
    }

    img {
        width: 25%;
        padding-left: 30px;
        padding-right: 30px;
        padding-top: 0;
        padding-bottom: 0;
    }
</style>


<body>
    <center>
        <h1 id="time"></h1>
        <img src="1_idol.png"></img>
        <img style="padding-bottom: 80px; width: 35%" id="center-image"></img>
        <img src="2_idol.png"></img>
        <h1 id="new_time"></h1>
        <!-- <script src="moment.js"></script> -->
    </center>
</body>
<script>
    months = {
        0: "Jan",
        1: "Feb",
        2: "March",
        3: "Apr",
        4: "May",
        5: "June",
        6: "July",
        7: "Aug",
        8: "Sept",
        9: "Oct",
        10: "Nov",
        11: "Dec",
    }


function currentTime() {
    let date = new Date();

    // Convert to Indian Standard Time
    let istDate = convertTZ(date, "Asia/Kolkata");

    document.getElementById("time").innerHTML = convert_Time(istDate);

    setTimeout(currentTime, 1000);
}
currentTime();

    function convertTZ(date, tzString) {
        return new Date((typeof date === "string" ? new Date(date) : date).toLocaleString("en-US", { timeZone: tzString }));
    }
    function convert_Time(date) {
        let hh = date.getHours();
        let mm = date.getMinutes();
        let ss = date.getSeconds();
        let session = "AM";

        if (hh == 0) { hh = 12 }
        if (hh > 12) { hh = hh - 12; session = "PM"; }

        hh = (hh < 10) ? "0" + hh : hh;
        mm = (mm < 10) ? "0" + mm : mm;
        ss = (ss < 10) ? "0" + ss : ss;

        let time = `${date.getDate()} ${months[date.getMonth()]} ${hh} : ${mm} : ${ss} ${session}`
        return time
    }
    function CurrentDate() {
        date1 = new Date();
        year = date1.getFullYear();
        month = (date1.getMonth() < 9) ? "0" + (date1.getMonth() + 1) : (date1.getMonth() + 1);
        date = (date1.getDate() < 10) ? "0" + date1.getDate() : date1.getDate();

        link = `https://www.prokerala.com/general/calendar/imgs/daily/${year}-${month}-${date}.png`
        // link = `https://srirangaminfo.com/cal/2024/1002.jpg`

        document.getElementById("center-image").src = link

        setTimeout(function () { CurrentDate() }, 1000 * 2);
    }
    function load_countdown() {
        function datediff(first, second) {
            return Math.round((second - first) / (1000 * 60 * 60 * 24));
        }

        Final_result = datediff(new Date(`${year}/${month}/${date}`), new Date("2024/01/25"))
        document.getElementById("count-down").innerText = `${Final_result} Days Remaining `
        setTimeout(function () { load_countdown() }, 1000 * 2);

    }

    CurrentDate();

</script>


</html>

